THE INVENTORY DASHBOARD - PROJETO CONSOLIDADO
================================================================================

ESTRUTURA DO PROJETO:
- Backend: Django API (api/)
- Frontend: React/TypeScript + Vite (frontend/)
================================================================================



================================================================================
CATEGORIA: Outros
ARQUIVO: .gitignore
================================================================================

// Total de linhas: 351
// Tamanho: 6863 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*

# Diagnostic reports (https://nodejs.org/api/report.html)
report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Directory for instrumented libs generated by jscoverage/JSCover
lib-cov

# Coverage directory used by tools like istanbul
coverage
*.lcov

# nyc test coverage
.nyc_output

# Grunt intermediate storage (https://gruntjs.com/creating-plugins#storing-task-files)
.grunt

# Bower dependency directory (https://bower.io/)
bower_components

# node-waf configuration
.lock-wscript

# Compiled binary addons (https://nodejs.org/api/addons.html)
build/Release

# Dependency directories
node_modules/
jspm_packages/

# Snowpack dependency directory (https://snowpack.dev/)
web_modules/

# TypeScript cache
*.tsbuildinfo

# Optional npm cache directory
.npm

# Optional eslint cache
.eslintcache

# Optional stylelint cache
.stylelintcache

# Optional REPL history
.node_repl_history

# Output of 'npm pack'
*.tgz

# Yarn Integrity file
.yarn-integrity

# dotenv environment variable files
.env
.env.*
!.env.example

# parcel-bundler cache (https://parceljs.org/)
.cache
.parcel-cache

# Next.js build output
.next
out

# Nuxt.js build / generate output
.nuxt
dist

# Gatsby files
.cache/
# Comment in the public line in if your project uses Gatsby and not Next.js
# https://nextjs.org/blog/next-9-1#public-directory-support
# public

# vuepress build output
.vuepress/dist

# vuepress v2.x temp and cache directory
.temp
.cache

# Sveltekit cache directory
.svelte-kit/

# vitepress build output
**/.vitepress/dist

# vitepress cache directory
**/.vitepress/cache

# Docusaurus cache and generated files
.docusaurus

# Serverless directories
.serverless/

# FuseBox cache
.fusebox/

# DynamoDB Local files
.dynamodb/

# Firebase cache directory
.firebase/

# TernJS port file
.tern-port

# Stores VSCode versions used for testing VSCode extensions
.vscode-test

# yarn v3
.pnp.*
.yarn/*
!.yarn/patches
!.yarn/plugins
!.yarn/releases
!.yarn/sdks
!.yarn/versions

# Vite logs files
vite.config.js.timestamp-*
vite.config.ts.timestamp-*

# Byte-compiled / optimized / DLL files
__pycache__/
*.py[codz]
*$py.class

# C extensions
*.so

# Distribution / packaging
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
share/python-wheels/
*.egg-info/
.installed.cfg
*.egg
MANIFEST

# PyInstaller
#  Usually these files are written by a python script from a template
#  before PyInstaller builds the exe, so as to inject date/other infos into it.
*.manifest
*.spec

# Installer logs
pip-log.txt
pip-delete-this-directory.txt

# Unit test / coverage reports
htmlcov/
.tox/
.nox/
.coverage
.coverage.*
.cache
nosetests.xml
coverage.xml
*.cover
*.py.cover
.hypothesis/
.pytest_cache/
cover/

# Translations
*.mo
*.pot

# Django stuff:
*.log
local_settings.py
db.sqlite3
db.sqlite3-journal

# Flask stuff:
instance/
.webassets-cache

# Scrapy stuff:
.scrapy

# Sphinx documentation
docs/_build/

# PyBuilder
.pybuilder/
target/

# Jupyter Notebook
.ipynb_checkpoints

# IPython
profile_default/
ipython_config.py

# pyenv
#   For a library or package, you might want to ignore these files since the code is
#   intended to run in multiple environments; otherwise, check them in:
# .python-version

# pipenv
#   According to pypa/pipenv#598, it is recommended to include Pipfile.lock in version control.
#   However, in case of collaboration, if having platform-specific dependencies or dependencies
#   having no cross-platform support, pipenv may install dependencies that don't work, or not
#   install all needed dependencies.
#Pipfile.lock

# UV
#   Similar to Pipfile.lock, it is generally recommended to include uv.lock in version control.
#   This is especially recommended for binary packages to ensure reproducibility, and is more
#   commonly ignored for libraries.
#uv.lock

# poetry
#   Similar to Pipfile.lock, it is generally recommended to include poetry.lock in version control.
#   This is especially recommended for binary packages to ensure reproducibility, and is more
#   commonly ignored for libraries.
#   https://python-poetry.org/docs/basic-usage/#commit-your-poetrylock-file-to-version-control
#poetry.lock
#poetry.toml

# pdm
#   Similar to Pipfile.lock, it is generally recommended to include pdm.lock in version control.
#   pdm recommends including project-wide configuration in pdm.toml, but excluding .pdm-python.
#   https://pdm-project.org/en/latest/usage/project/#working-with-version-control
#pdm.lock
#pdm.toml
.pdm-python
.pdm-build/

# pixi
#   Similar to Pipfile.lock, it is generally recommended to include pixi.lock in version control.
#pixi.lock
#   Pixi creates a virtual environment in the .pixi directory, just like venv module creates one
#   in the .venv directory. It is recommended not to include this directory in version control.
.pixi

# PEP 582; used by e.g. github.com/David-OConnor/pyflow and github.com/pdm-project/pdm
__pypackages__/

# Celery stuff
celerybeat-schedule
celerybeat.pid

# SageMath parsed files
*.sage.py

# Environments
.env
.envrc
.venv
env/
venv/
ENV/
env.bak/
venv.bak/

# Spyder project settings
.spyderproject
.spyproject

# Rope project settings
.ropeproject

# mkdocs documentation
/site

# mypy
.mypy_cache/
.dmypy.json
dmypy.json

# Pyre type checker
.pyre/

# pytype static type analyzer
.pytype/

# Cython debug symbols
cython_debug/

# PyCharm
#  JetBrains specific template is maintained in a separate JetBrains.gitignore that can
#  be found at https://github.com/github/gitignore/blob/main/Global/JetBrains.gitignore
#  and can be added to the global gitignore or merged into this file.  For a more nuclear
#  option (not recommended) you can uncomment the following to ignore the entire idea folder.
#.idea/

# Abstra
# Abstra is an AI-powered process automation framework.
# Ignore directories containing user credentials, local state, and settings.
# Learn more at https://abstra.io/docs
.abstra/

# Visual Studio Code
#  Visual Studio Code specific template is maintained in a separate VisualStudioCode.gitignore 
#  that can be found at https://github.com/github/gitignore/blob/main/Global/VisualStudioCode.gitignore
#  and can be added to the global gitignore or merged into this file. However, if you prefer, 
#  you could uncomment the following to ignore the entire vscode folder
# .vscode/

# Ruff stuff:
.ruff_cache/

# PyPI configuration file
.pypirc

# Cursor
#  Cursor is an AI-powered code editor. `.cursorignore` specifies files/directories to
#  exclude from AI features like autocomplete and code analysis. Recommended for sensitive data
#  refer to https://docs.cursor.com/context/ignore-files
.cursorignore
.cursorindexingignore

# Marimo
marimo/_static/
marimo/_lsp/
__marimo__/

# Custom
*-lock.json


================================================================================
CATEGORIA: Documentação
ARQUIVO: README.md
================================================================================

// Total de linhas: 67
// Tamanho: 5417 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* IMPORTANTE: Não inicie este desafio sem autorização. O desafio só poderá ser iniciado no dia e horário agendado via Google Meet. Entre em contato via email ou whatsapp:
  - administrativo@infinixassessoria.com.br
  - (21) 99515-2411

# THE INVENTORY DASHBOARD

## Sobre
**Stack**: Python + Django + DRF + SQlite + React + TailwindCSS + Axios + TypeScript
**Escopo**: Site completo para criação e listagem de produtos.

## Requisitos Essenciais (Timebox 4h)

#### Backend

1. Configuração Inicial: Crie um app **products**, e defina o modelo Product com os campos:
    - name: CharField
    - price: Float (2 decimal fields)
    - in_stock (boolean)
2. Configure **CORS**. O backend deve aceitar requisições do localhost.
3. API (DRF):
    - Defina *serializers* para *Product*.
    - O serializador de *Product* deve exibir o nome da categoria, não apenas seu ID.
    - Use **ViewSets** para fornercer funcionalidade CRUD completa para *Product*.
    - Configure urls.

#### Frontend
1. Listagem: Ao carregar a página, buscar os pordutos e exibí-los em cards simples (Nome, Preço e um "badge" verde/vermelho para estoque).
2. Criação: Um formulário simples acima da lista com inputs para Nome, Preço e um Checkbox para Estoque.
3. Atualização (Tela de Criação): Ao salvar o produto com sucesso, a lista deve ser atualizada ( seja via novo fetch ou adicionando ao estado local).

#### Git
O desafio exige que *ambos* os servidores rodem simultaneamente. O README-CANDIDATO.md deve explicar como rodar o projeto. (Ex: "Abra dois terminais...").

#### Bônus (Desejáveis):
    - Docker Compose: Um arquivo docker-compose.yml que sobe o banco, o back e o front com um comando.
    - Validação de Erro: Se o backend recusar o produto (ex: preço negativo), o frontend deve mostrar um toast ou mensagem de erro vermelha, não apenas falhar silenciosamente.

# Rubrica de Avaliação

| Dimensão Avaliada                        | Peso  | Pontuação (1-5) | Descrição da Avaliação (O que procurar)                                                                                                                                                                                                 |
|------------------------------------------|-------|-----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **1. Funcionalidade (Requisitos Essenciais)** | 40%  | [1-5]           | **5 (Excelente):** Cumpriu 100% dos requisitos essenciais. A aplicação roda de primeira, sem bugs óbvios. Trata estados de loading/error.<br>**3 (Satisfatório):** Cumpriu a maioria (80%+) dos requisitos. Funcionalidade principal funciona, mas com bugs menores.<br>**1 (Inaceitável):** Não roda ou a funcionalidade principal está quebrada. O avaliador não consegue testar a solução. |
| **2. Qualidade de Código e Estrutura**       | 25%  | [1-5]           | **5 (Excelente):** Código limpo, legível e idiomático. Segue princípios (ex: DRY). Estrutura de pastas lógica e escalável. Tipagem (TS) útil e precisa. Separação clara de responsabilidades.<br>**3 (Satisfatório):** Código funciona, mas com repetição ou "code smells". Estrutura de pastas aceitável, mas confusa. Tipagem usada com alguns `any`.<br>**1 (Inaceitável):** "Código espaguete". Variáveis ruins. Lógica de negócio misturada com UI. "Sopa de arquivos" na raiz. |
| **3. Processo e Comunicação (Git & README)** | 25%  | [1-5]           | **5 (Excelente):** Commits atômicos, frequentes e bem descritos. PR bem escrito. README completo com setup e explicações de design.<br>**3 (Satisfatório):** Usa Git, mas commits grandes (ex: "implementa home e função de agendar tarefas e remove var desnecessária"). README mínimo com instruções básicas.<br>**1 (Inaceitável):** Um único commit ("final"). Nenhum README ou instruções. Demonstra falta de profissionalismo e comunicação. |
| **4. Bônus e Resolução de Problemas**        | 10%  | [1-5]           | **5 (Excelente):** Implementou requisitos bônus funcionando. README explica como utilizar.<br>**3 (Satisfatório):** Tentou implementar bônus, mas não funcionou. README explica falha e plano.<br>**1 (Inaceitável):** Ignorou bônus ou implementou com falhas e sem explicação no README. |

## Instruções sobre "README-CANDIDATO" (Timebox 30min):
Preencha este arquivo com informações claras e concisas, separadas pelas seguintes seções:

#### Seção 1: Instruções para rodar
- Quais variáveis de ambiente são necessárias?
- Como instalar dependências?
- Como rodar o projeto?

#### Seção 2: Decisões de design
- Qual foi a maior dificuldade que você encontrou e como superou?
- O que você não teve tempo de fazer (dentro do timebox) e como você faria se tivesse mais tempo?

#### Seção 3: Link para Deploy (Bônus)
- Cole aqui o link do projeto hospedado ou instrua como rodar via Docker.

#### Seção final: Recomendações
- Escreva aqui dicas, melhorias e recomendações sobre este desafio.

## Considerações finais:
Este desafio não foi pensado para encontrar quem o finaliza 100% ou quem o termina mais rápido. Estamos buscando um desenvolvedor sério, que saiba como desenvolver soluções mesmo que para apenas 50% do projeto. Não queremos nenhum dev que dependa 100% de IA ou de terceiros, mas sim aquele que sabe priorizar, desenvolver e pesquisar.


================================================================================
CATEGORIA: Outros
ARQUIVO: docker-compose.yml
================================================================================

// Total de linhas: 22
// Tamanho: 452 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


services:
  backend:
    build:
      context: ./api
      dockerfile: Dockerfile
    volumes:
      - ./api:/app
    ports:
      - "8000:8000"
    environment:
      - PYTHONUNBUFFERED=1
    command: bash -c "python manage.py migrate --noinput && gunicorn api.wsgi:application --bind 0.0.0.0:8000 --workers 1"
  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    ports:
      - "5173:80"
    depends_on:
      - backend


================================================================================
CATEGORIA: Documentação
ARQUIVO: projeto_consolidado_V2.txt
================================================================================

// Total de linhas: 1
// Tamanho: 0 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\Dockerfile
================================================================================

// Total de linhas: 11
// Tamanho: 286 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# api/Dockerfile
FROM python:3.11-slim
WORKDIR /app
ENV PYTHONDONTWRITEBYTECODE=1
ENV PYTHONUNBUFFERED=1
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
COPY . .
EXPOSE 8000
CMD ["gunicorn", "api.wsgi:application", "--bind", "0.0.0.0:8000", "--workers", "1"]


================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\manage.py
================================================================================

// Total de linhas: 23
// Tamanho: 659 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#!/usr/bin/env python
"""Django's command-line utility for administrative tasks."""
import os
import sys


def main():
    """Run administrative tasks."""
    os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'api.settings')
    try:
        from django.core.management import execute_from_command_line
    except ImportError as exc:
        raise ImportError(
            "Couldn't import Django. Are you sure it's installed and "
            "available on your PYTHONPATH environment variable? Did you "
            "forget to activate a virtual environment?"
        ) from exc
    execute_from_command_line(sys.argv)


if __name__ == '__main__':
    main()


================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\requirements.txt
================================================================================

// Total de linhas: 4
// Tamanho: 47 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Django
djangorestframework
django-cors-headers


================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\api\__init__.py
================================================================================

// Total de linhas: 1
// Tamanho: 0 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\api\asgi.py
================================================================================

// Total de linhas: 17
// Tamanho: 383 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

"""
ASGI config for api project.

It exposes the ASGI callable as a module-level variable named ``application``.

For more information on this file, see
https://docs.djangoproject.com/en/5.2/howto/deployment/asgi/
"""

import os

from django.core.asgi import get_asgi_application

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'api.settings')

application = get_asgi_application()


================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\api\settings.py
================================================================================

// Total de linhas: 127
// Tamanho: 3283 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

"""
Django settings for api project.

Generated by 'django-admin startproject' using Django 5.2.8.

For more information on this file, see
https://docs.djangoproject.com/en/5.2/topics/settings/

For the full list of settings and their values, see
https://docs.djangoproject.com/en/5.2/ref/settings/
"""

from pathlib import Path

# Build paths inside the project like this: BASE_DIR / 'subdir'.
BASE_DIR = Path(__file__).resolve().parent.parent


# Quick-start development settings - unsuitable for production
# See https://docs.djangoproject.com/en/5.2/howto/deployment/checklist/

# SECURITY WARNING: keep the secret key used in production secret!
SECRET_KEY = 'django-insecure-l!x%y#7$_uj9cy9zvy&e35%t_c1*ykx8r46q@h#s)!0x_0sb!a'

# SECURITY WARNING: don't run with debug turned on in production!
DEBUG = True

ALLOWED_HOSTS = []

CORS_ALLOW_ALL_ORIGINS = True
# Application definition

INSTALLED_APPS = [
    'rest_framework',
    'corsheaders',
    'products',
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
]

MIDDLEWARE = [
    'corsheaders.middleware.CorsMiddleware',
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]

ROOT_URLCONF = 'api.urls'

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

WSGI_APPLICATION = 'api.wsgi.application'


# Database
# https://docs.djangoproject.com/en/5.2/ref/settings/#databases

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}


# Password validation
# https://docs.djangoproject.com/en/5.2/ref/settings/#auth-password-validators

AUTH_PASSWORD_VALIDATORS = [
    {
        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',
    },
]


# Internationalization
# https://docs.djangoproject.com/en/5.2/topics/i18n/

LANGUAGE_CODE = 'en-us'

TIME_ZONE = 'UTC'

USE_I18N = True

USE_TZ = True


# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/5.2/howto/static-files/

STATIC_URL = 'static/'

# Default primary key field type
# https://docs.djangoproject.com/en/5.2/ref/settings/#default-auto-field

DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'


================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\api\urls.py
================================================================================

// Total de linhas: 25
// Tamanho: 831 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

"""
URL configuration for api project.

The `urlpatterns` list routes URLs to views. For more information please see:
    https://docs.djangoproject.com/en/5.2/topics/http/urls/
Examples:
Function views
    1. Add an import:  from my_app import views
    2. Add a URL to urlpatterns:  path('', views.home, name='home')
Class-based views
    1. Add an import:  from other_app.views import Home
    2. Add a URL to urlpatterns:  path('', Home.as_view(), name='home')
Including another URLconf
    1. Import the include() function: from django.urls import include, path
    2. Add a URL to urlpatterns:  path('blog/', include('blog.urls'))
"""

from django.contrib import admin
from django.urls import path, include

urlpatterns = [
   path('admin/', admin.site.urls),
    # API endpoints
    path('api/', include('products.urls')),
]

================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\api\wsgi.py
================================================================================

// Total de linhas: 17
// Tamanho: 383 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

"""
WSGI config for api project.

It exposes the WSGI callable as a module-level variable named ``application``.

For more information on this file, see
https://docs.djangoproject.com/en/5.2/howto/deployment/wsgi/
"""

import os

from django.core.wsgi import get_wsgi_application

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'api.settings')

application = get_wsgi_application()


================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\products\__init__.py
================================================================================

// Total de linhas: 1
// Tamanho: 0 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\products\admin.py
================================================================================

// Total de linhas: 6
// Tamanho: 131 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

from django.contrib import admin
from .models import Product, Category

admin.site.register(Category)
admin.site.register(Product)


================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\products\apps.py
================================================================================

// Total de linhas: 6
// Tamanho: 91 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

from django.apps import AppConfig


class ProductsConfig(AppConfig):
    name = 'products'


================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\products\models.py
================================================================================

// Total de linhas: 17
// Tamanho: 508 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

from django.db import models

class Category(models.Model):
    name = models.CharField(max_length=100)

    def __str__(self):
        return self.name

class Product(models.Model):
    name = models.CharField(max_length=255)
    price = models.DecimalField(max_digits=10, decimal_places=2)
    in_stock = models.BooleanField(default=True)
    category = models.ForeignKey(Category, null=True, blank=True, on_delete=models.SET_NULL, related_name='products')

    def __str__(self):
        return self.name


================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\products\serializers.py
================================================================================

// Total de linhas: 21
// Tamanho: 741 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

from rest_framework import serializers
from .models import Product, Category

class CategorySerializer(serializers.ModelSerializer):
    class Meta:
        model = Category
        fields = ['id', 'name']

class ProductSerializer(serializers.ModelSerializer):
    category_name = serializers.CharField(source='category.name', read_only=True)
    category = serializers.PrimaryKeyRelatedField(queryset=Category.objects.all(), allow_null=True, required=False)

    class Meta:
        model = Product
        fields = ['id', 'name', 'price', 'in_stock', 'category', 'category_name']

    def validate_price(self, value):
        if value < 0:
            raise serializers.ValidationError("Preço não pode ser negativo.")
        return value


================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\products\tests.py
================================================================================

// Total de linhas: 4
// Tamanho: 60 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

from django.test import TestCase

# Create your tests here.


================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\products\urls.py
================================================================================

// Total de linhas: 8
// Tamanho: 202 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

from rest_framework.routers import DefaultRouter
from .views import ProductViewSet

router = DefaultRouter()
router.register(r'products', ProductViewSet, basename='products')

urlpatterns = router.urls


================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\products\views.py
================================================================================

// Total de linhas: 8
// Tamanho: 247 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

from rest_framework import viewsets
from .models import Product
from .serializers import ProductSerializer

class ProductViewSet(viewsets.ModelViewSet):
    queryset = Product.objects.all().order_by('-id')
    serializer_class = ProductSerializer


================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\products\migrations\0001_initial.py
================================================================================

// Total de linhas: 24
// Tamanho: 634 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# Generated by Django 6.0 on 2025-12-09 18:59

from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Product',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('in_stock', models.BooleanField(default=True)),
            ],
        ),
    ]


================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\products\migrations\0002_add_category.py
================================================================================

// Total de linhas: 24
// Tamanho: 750 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

from django.db import migrations, models
import django.db.models.deletion

class Migration(migrations.Migration):

    dependencies = [
        ('products', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='Category',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100)),
            ],
        ),
        migrations.AddField(
            model_name='product',
            name='category',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='products', to='products.category'),
        ),
    ]


================================================================================
CATEGORIA: Backend (Django)
ARQUIVO: api\products\migrations\__init__.py
================================================================================

// Total de linhas: 1
// Tamanho: 0 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



================================================================================
CATEGORIA: Frontend (React)
ARQUIVO: frontend\Dockerfile
================================================================================

// Total de linhas: 12
// Tamanho: 248 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# frontend/Dockerfile
FROM node:18-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build
FROM nginx:stable-alpine
COPY --from=builder /app/dist /usr/share/nginx/html
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]


================================================================================
CATEGORIA: Frontend (React)
ARQUIVO: frontend\README.md
================================================================================

// Total de linhas: 76
// Tamanho: 2553 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# React + TypeScript + Vite

This template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.

Currently, two official plugins are available:

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react) uses [Babel](https://babeljs.io/) (or [oxc](https://oxc.rs) when used in [rolldown-vite](https://vite.dev/guide/rolldown)) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh

## React Compiler

The React Compiler is enabled on this template. See [this documentation](https://react.dev/learn/react-compiler) for more information.

Note: This will impact Vite dev & build performances.

## Expanding the ESLint configuration

If you are developing a production application, we recommend updating the configuration to enable type-aware lint rules:

```js
export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{ts,tsx}'],
    extends: [
      // Other configs...

      // Remove tseslint.configs.recommended and replace with this
      tseslint.configs.recommendedTypeChecked,
      // Alternatively, use this for stricter rules
      tseslint.configs.strictTypeChecked,
      // Optionally, add this for stylistic rules
      tseslint.configs.stylisticTypeChecked,

      // Other configs...
    ],
    languageOptions: {
      parserOptions: {
        project: ['./tsconfig.node.json', './tsconfig.app.json'],
        tsconfigRootDir: import.meta.dirname,
      },
      // other options...
    },
  },
])
```

You can also install [eslint-plugin-react-x](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-x) and [eslint-plugin-react-dom](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-dom) for React-specific lint rules:

```js
// eslint.config.js
import reactX from 'eslint-plugin-react-x'
import reactDom from 'eslint-plugin-react-dom'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{ts,tsx}'],
    extends: [
      // Other configs...
      // Enable lint rules for React
      reactX.configs['recommended-typescript'],
      // Enable lint rules for React DOM
      reactDom.configs.recommended,
    ],
    languageOptions: {
      parserOptions: {
        project: ['./tsconfig.node.json', './tsconfig.app.json'],
        tsconfigRootDir: import.meta.dirname,
      },
      // other options...
    },
  },
])
```


================================================================================
CATEGORIA: Frontend (React)
ARQUIVO: frontend\eslint.config.js
================================================================================

// Total de linhas: 24
// Tamanho: 616 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import tseslint from 'typescript-eslint'
import { defineConfig, globalIgnores } from 'eslint/config'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{ts,tsx}'],
    extends: [
      js.configs.recommended,
      tseslint.configs.recommended,
      reactHooks.configs.flat.recommended,
      reactRefresh.configs.vite,
    ],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
    },
  },
])


================================================================================
CATEGORIA: Frontend (React)
ARQUIVO: frontend\index.html
================================================================================

// Total de linhas: 14
// Tamanho: 357 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>frontend</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>


================================================================================
CATEGORIA: Frontend (React)
ARQUIVO: frontend\package.json
================================================================================

// Total de linhas: 41
// Tamanho: 955 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


{
  "name": "frontend",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc -b && vite build",
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "@tailwindcss/vite": "^4.1.17",
    "axios": "^1.13.2",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "tailwindcss": "^4.1.17",
   "react-toastify": "^10.0.5"

  },
  "devDependencies": {
    "@eslint/js": "^9.39.1",
    "@types/node": "^24.10.1",
    "@types/react": "^19.2.5",
    "@types/react-dom": "^19.2.3",
    "@vitejs/plugin-react": "^5.1.1",
    "babel-plugin-react-compiler": "^1.0.0",
    "eslint": "^9.39.1",
    "eslint-plugin-react-hooks": "^7.0.1",
    "eslint-plugin-react-refresh": "^0.4.24",
    "globals": "^16.5.0",
    "typescript": "~5.9.3",
    "typescript-eslint": "^8.46.4",
    "vite": "npm:rolldown-vite@7.2.5"
  },
  "overrides": {
    "vite": "npm:rolldown-vite@7.2.5"
  }
}


================================================================================
CATEGORIA: Frontend (React)
ARQUIVO: frontend\tsconfig.app.json
================================================================================

// Total de linhas: 29
// Tamanho: 732 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

{
  "compilerOptions": {
    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.app.tsbuildinfo",
    "target": "ES2022",
    "useDefineForClassFields": true,
    "lib": ["ES2022", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "types": ["vite/client"],
    "skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "verbatimModuleSyntax": true,
    "moduleDetection": "force",
    "noEmit": true,
    "jsx": "react-jsx",

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "erasableSyntaxOnly": true,
    "noFallthroughCasesInSwitch": true,
    "noUncheckedSideEffectImports": true
  },
  "include": ["src"]
}


================================================================================
CATEGORIA: Frontend (React)
ARQUIVO: frontend\tsconfig.json
================================================================================

// Total de linhas: 8
// Tamanho: 119 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

{
  "files": [],
  "references": [
    { "path": "./tsconfig.app.json" },
    { "path": "./tsconfig.node.json" }
  ]
}


================================================================================
CATEGORIA: Frontend (React)
ARQUIVO: frontend\tsconfig.node.json
================================================================================

// Total de linhas: 27
// Tamanho: 653 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

{
  "compilerOptions": {
    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.node.tsbuildinfo",
    "target": "ES2023",
    "lib": ["ES2023"],
    "module": "ESNext",
    "types": ["node"],
    "skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "verbatimModuleSyntax": true,
    "moduleDetection": "force",
    "noEmit": true,

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "erasableSyntaxOnly": true,
    "noFallthroughCasesInSwitch": true,
    "noUncheckedSideEffectImports": true
  },
  "include": ["vite.config.ts"]
}


================================================================================
CATEGORIA: Frontend (React)
ARQUIVO: frontend\vite.config.ts
================================================================================

// Total de linhas: 16
// Tamanho: 315 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import tailwindcss from '@tailwindcss/vite'

// https://vite.dev/config/
export default defineConfig({
  plugins: [
    react({
      babel: {
        plugins: [['babel-plugin-react-compiler']],
      },
    }),
    tailwindcss()
  ],
})


================================================================================
CATEGORIA: Frontend (React)
ARQUIVO: frontend\src\App.css
================================================================================

// Total de linhas: 43
// Tamanho: 606 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#root {
  max-width: 1280px;
  margin: 0 auto;
  padding: 2rem;
  text-align: center;
}

.logo {
  height: 6em;
  padding: 1.5em;
  will-change: filter;
  transition: filter 300ms;
}
.logo:hover {
  filter: drop-shadow(0 0 2em #646cffaa);
}
.logo.react:hover {
  filter: drop-shadow(0 0 2em #61dafbaa);
}

@keyframes logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@media (prefers-reduced-motion: no-preference) {
  a:nth-of-type(2) .logo {
    animation: logo-spin infinite 20s linear;
  }
}

.card {
  padding: 2em;
}

.read-the-docs {
  color: #888;
}


================================================================================
CATEGORIA: Frontend (React)
ARQUIVO: frontend\src\App.tsx
================================================================================

// Total de linhas: 199
// Tamanho: 6038 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// frontend/src/App.tsx
import { useEffect, useState } from "react";
import { api } from "./api";
import { ToastContainer, toast } from "react-toastify";
import "react-toastify/dist/ReactToastify.css";

type Product = {
  id: number;
  name: string;
  price: number;
  in_stock: boolean;
};

export default function App() {
  const [products, setProducts] = useState<Product[]>([]);
  const [name, setName] = useState("");
  const [price, setPrice] = useState("");
  const [inStock, setInStock] = useState(true);
  const [loading, setLoading] = useState(false);
  const [saving, setSaving] = useState(false);
  const [error, setError] = useState("");

  async function loadProducts() {
    setLoading(true);
    setError("");
    try {
      const res = await api.get("products/");
      setProducts(res.data);
    } catch (err: any) {
      setError("Erro ao carregar produtos");
      toast.error("Erro ao carregar produtos");
    } finally {
      setLoading(false);
    }
  }

  async function createProduct(e: any) {
    e.preventDefault();
    setError("");

    if (!name.trim()) {
      toast.error("Nome é obrigatório");
      return;
    }

    const parsed = parseFloat(price);
    if (isNaN(parsed) || parsed < 0) {
      toast.error("Preço inválido");
      return;
    }

    setSaving(true);

    try {
      const payload = { name: name.trim(), price: parsed, in_stock: inStock };
      const res = await api.post("products/", payload);

      setProducts((prev) => [res.data, ...prev]);
      setName("");
      setPrice("");
      setInStock(true);
      toast.success("Produto criado");
    } catch (err: any) {
      const data = err?.response?.data;
      if (data) {
        const first = Array.isArray(Object.values(data)[0])
          ? Object.values(data)[0][0]
          : Object.values(data)[0];
        toast.error(String(first) || "Erro ao criar produto");
        setError(String(first));
      } else {
        toast.error("Erro ao criar produto");
        setError("Erro ao criar produto");
      }
    } finally {
      setSaving(false);
    }
  }

  async function deleteProduct(id: number) {
    try {
      await api.delete(`products/${id}/`);
      setProducts((prev) => prev.filter((p) => p.id !== id));
      toast.success("Produto removido");
    } catch (err) {
      toast.error("Erro ao remover produto");
    }
  }

  useEffect(() => {
    loadProducts();
  }, []);

  return (
    <div className="min-h-screen bg-gray-100 p-8">
      <ToastContainer position="top-right" />
      <div className="max-w-5xl mx-auto">
        <h1 className="text-2xl font-bold mb-4">Inventory Dashboard</h1>

        <form
          onSubmit={createProduct}
          className="mb-4 p-4 border rounded bg-white"
        >
          <div className="grid grid-cols-1 md:grid-cols-4 gap-2">
            <input
              required
              placeholder="Nome"
              value={name}
              onChange={(e) => setName(e.target.value)}
              className="p-2 border rounded col-span-1 md:col-span-1"
            />
            <input
              required
              placeholder="Preço"
              type="number"
              step="0.01"
              value={price}
              onChange={(e) => setPrice(e.target.value)}
              className="p-2 border rounded col-span-1 md:col-span-1"
            />
            <div className="col-span-1 md:col-span-1 flex items-center gap-2">
              <label className="flex items-center gap-2">
                <input
                  type="checkbox"
                  checked={inStock}
                  onChange={(e) => setInStock(e.target.checked)}
                />
                Em estoque
              </label>
            </div>
            <div className="col-span-1 md:col-span-1 flex items-center">
              <button
                disabled={saving}
                className={`ml-auto px-4 py-2 rounded text-white ${
                  saving ? "bg-gray-400" : "bg-blue-600"
                }`}
              >
                {saving ? "Salvando..." : "Salvar"}
              </button>
            </div>
          </div>
        </form>

        <div className="mb-4 flex items-center gap-4">
          <button onClick={loadProducts} className="px-3 py-1 border rounded">
            Atualizar
          </button>
          {loading && <div>Carregando...</div>}
          {error && <div className="text-red-600">{error}</div>}
        </div>

        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
          {products.length === 0 && !loading ? (
            <div>Nenhum produto</div>
          ) : (
            products.map((p) => (
              <div
                key={p.id}
                className="relative border p-4 rounded shadow bg-white"
              >
                {/* Botão X - Delete */}
                <button
                  onClick={() => deleteProduct(p.id)}
                  className="
                    absolute bottom-2 right-2 
                    bg-red-600 text-white rounded-full 
                    w-6 h-6 flex items-center justify-center 
                    text-xs font-bold 
                    hover:bg-red-700
                    transition
                  "
                  title="Apagar"
                >
                  X
                </button>

                <div className="flex justify-between items-start">
                  <h3 className="font-semibold text-lg">{p.name}</h3>
                  <span
                    className={`text-xs px-2 py-1 rounded ${
                      p.in_stock
                        ? "bg-green-100 text-green-800"
                        : "bg-red-100 text-red-800"
                    }`}
                  >
                    {p.in_stock ? "Em estoque" : "Fora de estoque"}
                  </span>
                </div>

                <p className="mt-2">Preço: R$ {Number(p.price).toFixed(2)}</p>
              </div>
            ))
          )}
        </div>
      </div>
    </div>
  );
}


================================================================================
CATEGORIA: Frontend (React)
ARQUIVO: frontend\src\api.ts
================================================================================

// Total de linhas: 6
// Tamanho: 107 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

import axios from "axios";

export const api = axios.create({
  baseURL: "http://localhost:8000/api/",
});


================================================================================
CATEGORIA: Frontend (React)
ARQUIVO: frontend\src\index.css
================================================================================

// Total de linhas: 71
// Tamanho: 1178 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

@import "tailwindcss";

:root {
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #242424;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a {
  font-weight: 500;
  color: #646cff;
  text-decoration: inherit;
}
a:hover {
  color: #535bf2;
}

body {
  margin: 0;
  display: flex;
  place-items: center;
  min-width: 320px;
  min-height: 100vh;
}

h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: #1a1a1a;
  cursor: pointer;
  transition: border-color 0.25s;
}
button:hover {
  border-color: #646cff;
}
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}

@media (prefers-color-scheme: light) {
  :root {
    color: #213547;
    background-color: #ffffff;
  }
  a:hover {
    color: #747bff;
  }
  button {
    background-color: #a3a3a3;
  }
}


================================================================================
CATEGORIA: Frontend (React)
ARQUIVO: frontend\src\main.tsx
================================================================================

// Total de linhas: 11
// Tamanho: 230 caracteres
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import './index.css'
import App from './App.tsx'

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <App />
  </StrictMode>,
)
